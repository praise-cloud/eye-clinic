<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Korenye Clinic - Concerns</title>
    <!-- Link to the separate CSS file -->
    <link rel="stylesheet" href="../styles/index17.css">
    <!-- Load Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>

    <div id="app" class="app-container">
        <!-- 1. HEADER -->
        <header class="app-header">
            <div class="header-content">
                <!-- Logo -->
                <div class="logo">
                    <i class="fas fa-eye"></i>
                    <h1>KORENYE CLINIC</h1>
                </div>
                
                <!-- Admin Profile -->
                <div class="user-info">
                    <i class="fas fa-user-circle text-2xl mr-2"></i>
                    <span>Admin</span>
                </div>
            </div>
        </header>

        <!-- 2. MAIN LAYOUT: SIDEBAR + CONTENT -->
        <div class="main-content-wrapper">
            
            <!-- 2a. SIDEBAR -->
            <nav class="sidebar">
                <ul class="nav-menu">
                    <li class="nav-item"><a href="#" class="nav-link"><i class="fas fa-th-large"></i> <span>Dashboard</span></a></li>
                    <li class="nav-item"><a href="#" class="nav-link"><i class="fas fa-users"></i> <span>Patients</span></a></li>
                    <li class="nav-item"><a href="#" class="nav-link"><i class="fas fa-envelope"></i> <span>Messages</span></a></li>
                    <li class="nav-item"><a href="#" class="nav-link"><i class="fas fa-clipboard-check"></i> <span>Tests</span></a></li>
                    <li class="nav-item"><a href="#" class="nav-link"><i class="fas fa-box-open"></i> <span>Inventory</span></a></li>
                    <li class="nav-item"><a href="#" class="nav-link"><i class="fas fa-chart-bar"></i> <span>Reports</span></a></li>
                    <li class="nav-item"><a href="#" class="nav-link"><i class="fas fa-cog"></i> <span>Settings</span></a></li>
                    <li class="nav-item"><a href="#" class="nav-link"><i class="fas fa-sign-out-alt"></i> <span>Logout</span></a></li>
                </ul>
            </nav>

            <!-- 2b. CONTENT AREA -->
            <main class="content-area">
                <div class="content-card">
                    <!-- Title and Count -->
                    <h2 class="page-title">Case</h2>

                    <!-- Filter Bar -->
                    <div class="filter-bar">
                        <!-- Search Input -->
                        <div class="search-wrapper">
                            <input type="text" placeholder="Searching..." class="search-input" onkeyup="filterTable(this.value)">
                            <i class="fas fa-search search-icon"></i>
                        </div>

                        <!-- Department Dropdown -->
                        <div class="dropdown-wrapper">
                            <select class="dropdown-select">
                                <option>Filter</option>
                                <option>Department</option>
                                <option>Room number</option>
                            </select>
                            <i class="fas fa-chevron-down dropdown-icon-arrow"></i>
                        </div>
                        
                        <!-- Add Concern Button -->
                        <button class="add-button">
                            <i class="fas fa-plus mr-2"></i> Add Concern
                        </button>
                    </div>

                    <!-- Concerns Table -->
                    <div class="table-wrapper">
                        <table id="concernsTable">
                            <thead class="table-header">
                                <tr>
                                    <th>ID</th>
                                    <th>Name</th>
                                    <th>Description</th>
                                    <th class="text-right">Action</th>
                                </tr>
                            </thead>
                            <tbody class="table-body">
                                <!-- Data Rows -->
                                <tr>
                                    <td>1</td>
                                    <td>Condition</td>
                                    <td>Could indicate a general status or condition.</td>
                                    <td class="action-icons">
                                        <i class="fas fa-trash-alt text-red"></i>
                                        <i class="fas fa-edit text-yellow"></i>
                                        <i class="fas fa-eye text-blue"></i>
                                    </td>
                                </tr>
                                <tr>
                                    <td>2</td>
                                    <td>Alert</td>
                                    <td>Likely represents a warning or alert.</td>
                                    <td class="action-icons">
                                        <i class="fas fa-trash-alt text-red"></i>
                                        <i class="fas fa-edit text-yellow"></i>
                                        <i class="fas fa-eye text-blue"></i>
                                    </td>
                                </tr>
                                <tr>
                                    <td>3</td>
                                    <td>Positive</td>
                                    <td>Could indicate a "go" or positive status.</td>
                                    <td class="action-icons">
                                        <i class="fas fa-trash-alt text-red"></i>
                                        <i class="fas fa-edit text-yellow"></i>
                                        <i class="fas fa-eye text-blue"></i>
                                    </td>
                                </tr>
                                <tr>
                                    <td>4</td>
                                    <td>NPO</td>
                                    <td>Stands for 'Nil Per Os' (nothing by mouth), indicating dietary restrictions.</td>
                                    <td class="action-icons">
                                        <i class="fas fa-trash-alt text-red"></i>
                                        <i class="fas fa-edit text-yellow"></i>
                                        <i class="fas fa-eye text-blue"></i>
                                    </td>
                                </tr>
                                <tr>
                                    <td>5</td>
                                    <td>Patient movement</td>
                                    <td>A hand symbol with text, likely a notification for restricted interaction.</td>
                                    <td class="action-icons">
                                        <i class="fas fa-trash-alt text-red"></i>
                                        <i class="fas fa-edit text-yellow"></i>
                                        <i class="fas fa-eye text-blue"></i>
                                    </td>
                                </tr>
                                <!-- End of Data Rows -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </main>
        </div>
    </div>
    
    <!-- JavaScript for basic table filtering -->
    <script>
        /**
         * Filters the table rows based on the text entered in the search input and updates the visible count.
         * @param {string} searchText - The text to filter the table content by.
         */
        function filterTable(searchText) {
            const filter = searchText.toUpperCase();
            const table = document.getElementById("concernsTable");
            const countElement = document.querySelector('.count-text');

            if (!table) return; 

            const rows = table.getElementsByTagName("tr");
            let visibleCount = 0;
            const totalRows = rows.length > 0 ? rows.length - 1 : 0; // Exclude header row

            // Start from 1 to skip the header row
            for (let i = 1; i < rows.length; i++) { 
                const row = rows[i];
                let rowText = '';
                // Check against Name (index 1) and Description (index 2)
                const nameCell = row.cells[1];
                const descCell = row.cells[2];
                
                if (nameCell && descCell) {
                    // Concatenate the text from name and description cells
                    rowText = (nameCell.textContent || nameCell.innerText) + ' ' + 
                              (descCell.textContent || descCell.innerText);
                }

                if (rowText.toUpperCase().indexOf(filter) > -1) {
                    row.style.display = "";
                    visibleCount++;
                } else {
                    row.style.display = "none";
                }
            }
            
            // Update the count text
            if (countElement) {
                countElement.textContent = `Showing ${visibleCount} of ${totalRows}`;
            }
        }

        // Initialize the count on load
        window.onload = function() {
            const table = document.getElementById("concernsTable");
            const countElement = document.querySelector('.count-text');
            if (table && countElement) {
                 const totalRows = table.getElementsByTagName("tr").length - 1;
                 countElement.textContent = `Showing ${totalRows} of ${totalRows}`;
            }
        };
    </script>
</body>
</html>
